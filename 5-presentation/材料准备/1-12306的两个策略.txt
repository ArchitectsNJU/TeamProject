分库分表&读写分离，实际上买票的消耗对于数据不算什么，最可怕的实际上是查票，读写分离是一方面就是把查询的库从最早的Sybase换成Oracle结果又是不行一直换成现在的内存库，产品是VMware的GemFire，据说用了十几个T的内存...这样查票（读，互联网内存库）和买票（写，铁路内网）就不在一个库了，至于显示有票但是买不到，那是因为两个库因为不在一个网络定时同步的时间比较长而已。

5、分布式中间件：就是排队吗，这样购票的动作就异步交给了消息队列中间件，然后那个“有XX人排队，你前边有XX人”就是读取消息队列的位置和状态（具体肯定比这个复杂），这个分布式、异步、中间件、消息队列的概念集成还是当年淘宝的技术团队过来参与优化的时候留下的遗产。